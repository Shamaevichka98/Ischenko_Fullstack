{% extends 'flatpages/default.html' %}

{% load custom_filters %}

{% block content %}
    {% if posts %}
        <h1>Независимые СМИ</h1>
        <h2>Количество статей: {{ posts|length }}</h2>
        <h3>{{ time_now|date:'M d Y, l' }}</h3>
        <table width="90%" style="margin-top: 35px">
        <tr>
            <td><p><strong>Заголовок</strong></p></td>
            <td><p><strong>Дата публикации</strong></p></td>
            <td><p><strong>Категории</strong></p></td>
            <td><p><strong>Содержание</strong></p></td>
        </tr>
    {% for post in posts %}
        <tr>
            <td>{{ post.name }}</td>
            <td>{{ post.date_creation|date:'d M Y' }}</td>
            <td>{{ post.category.name_cat }}</td>
            <td>{{ post.description|truncatewords:20|censor }}</td>
        </tr>
    {% endfor %}
        </table>
    {% else %}
    <h3>Публикаций нет!</h3>
    {% endif %}
{% endblock content %}